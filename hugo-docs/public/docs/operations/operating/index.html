<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Operating Guide | Home Server Documentation</title><meta name=description content="Complete guide to day-to-day operations of the home server"><meta property="og:url" content="https://docs.antoineglacet.com/docs/operations/operating/"><meta property="og:site_name" content="Home Server Documentation"><meta property="og:title" content="Operating Guide"><meta property="og:description" content="Complete guide to day-to-day operations of the home server"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta itemprop=name content="Operating Guide"><meta itemprop=description content="Complete guide to day-to-day operations of the home server"><meta itemprop=wordCount content="1210"><meta name=twitter:card content="summary"><meta name=twitter:title content="Operating Guide"><meta name=twitter:description content="Complete guide to day-to-day operations of the home server"><link rel=preload href=/scss/main.min.6d849f713d8c25ed95d783569522ad6e1604c48142bc1d1ab44b4a15795b3046.css as=style integrity="sha256-bYSfcT2MJe2V14NWlSKtbhYExIFCvB0atEtKFXlbMEY=" crossorigin=anonymous><link href=/scss/main.min.6d849f713d8c25ed95d783569522ad6e1604c48142bc1d1ab44b4a15795b3046.css rel=stylesheet integrity="sha256-bYSfcT2MJe2V14NWlSKtbhYExIFCvB0atEtKFXlbMEY=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script></head><body class=td-page><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="td-navbar-container container-fluid flex-column flex-md-row"><a class=navbar-brand href=/><span class="navbar-brand__logo navbar-logo"></span><span class=navbar-brand__name>Home Server Documentation</span></a><div class="td-navbar-nav-scroll td-navbar-nav-scroll--indicator" id=main_navbar><div class="scroll-indicator scroll-left"></div><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/docs/><span>Documentation</span></a></li><li class=nav-item><a class="nav-link active" href=/docs/><span>Docs</span></a></li><li class=nav-item><a class=nav-link href=https://homepage.antoineglacet.com target=_blank rel=noopener><span>Homepage</span></a></li></ul><div class="scroll-indicator scroll-right"></div></div><div class="d-none d-lg-block td-navbar__search"></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main data-bs-spy=scroll data-bs-target=.td-toc data-bs-root-margin="0px 0px -10%"><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><script>$(function(){$("#td-section-nav a").removeClass("active"),$("#td-section-nav #m-docsoperationsoperating").addClass("active"),$("#td-section-nav #m-docsoperationsoperating-li span").addClass("td-sidebar-nav-active-item"),$("#td-section-nav #m-docsoperationsoperating").parents("li").addClass("active-path"),$("#td-section-nav li.active-path").addClass("show"),$("#td-section-nav li.active-path").children("input").prop("checked",!0),$("#td-section-nav #m-docsoperationsoperating-li").siblings("li").addClass("show"),$("#td-section-nav #m-docsoperationsoperating-li").children("ul").children("li").addClass("show"),$("#td-sidebar-menu").toggleClass("d-none")})</script><div id=td-sidebar-menu class="td-sidebar__inner d-none"><form class="td-sidebar__search d-flex align-items-center"><button class="btn btn-link td-sidebar__toggle" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="td-sidebar-nav collapse foldable-nav" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docs-li><a href=/docs/ title=Documentation class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-docs><span>Docs</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsoperations-li><input type=checkbox id=m-docsoperations-check>
<label for=m-docsoperations-check><a href=/docs/operations/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsoperations><span>Operations</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsoperationsoperating-li><input type=checkbox id=m-docsoperationsoperating-check>
<label for=m-docsoperationsoperating-check><a href=/docs/operations/operating/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsoperationsoperating><span>Operating Guide</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsoperationsquick_start-li><input type=checkbox id=m-docsoperationsquick_start-check>
<label for=m-docsoperationsquick_start-check><a href=/docs/operations/quick_start/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsoperationsquick_start><span>Quick Start: Fix SSH Lag & LAN Latency</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsoperationsperformance-tuning-li><input type=checkbox id=m-docsoperationsperformance-tuning-check>
<label for=m-docsoperationsperformance-tuning-check><a href=/docs/operations/performance-tuning/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsoperationsperformance-tuning><span>Performance Tuning Guide</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsoperationsperformance_optimization-li><input type=checkbox id=m-docsoperationsperformance_optimization-check>
<label for=m-docsoperationsperformance_optimization-check><a href=/docs/operations/performance_optimization/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsoperationsperformance_optimization><span>Performance Optimization Guide</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsinfrastructure-li><input type=checkbox id=m-docsinfrastructure-check>
<label for=m-docsinfrastructure-check><a href=/docs/infrastructure/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsinfrastructure><span>Infrastructure</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinfrastructuretraefik-li><input type=checkbox id=m-docsinfrastructuretraefik-check>
<label for=m-docsinfrastructuretraefik-check><a href=/docs/infrastructure/traefik/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsinfrastructuretraefik><span>Traefik - Reverse Proxy & TLS</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsinfrastructureauthentik-li><input type=checkbox id=m-docsinfrastructureauthentik-check>
<label for=m-docsinfrastructureauthentik-check><a href=/docs/infrastructure/authentik/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsinfrastructureauthentik><span>Authentik - SSO & Authentication</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsmonitoring-li><input type=checkbox id=m-docsmonitoring-check>
<label for=m-docsmonitoring-check><a href=/docs/monitoring/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsmonitoring><span>Monitoring</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmonitoringmonitoring-li><input type=checkbox id=m-docsmonitoringmonitoring-check>
<label for=m-docsmonitoringmonitoring-check><a href=/docs/monitoring/monitoring/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmonitoringmonitoring><span>Monitoring & Observability</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsmonitoringgrafana-setup-li><input type=checkbox id=m-docsmonitoringgrafana-setup-check>
<label for=m-docsmonitoringgrafana-setup-check><a href=/docs/monitoring/grafana-setup/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsmonitoringgrafana-setup><span>Grafana Setup Guide</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docstroubleshooting-li><input type=checkbox id=m-docstroubleshooting-check>
<label for=m-docstroubleshooting-check><a href=/docs/troubleshooting/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docstroubleshooting><span>Troubleshooting</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docstroubleshootingtroubleshooting-li><input type=checkbox id=m-docstroubleshootingtroubleshooting-check>
<label for=m-docstroubleshootingtroubleshooting-check><a href=/docs/troubleshooting/troubleshooting/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docstroubleshootingtroubleshooting><span>Troubleshooting Guide</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsdeployment-li><input type=checkbox id=m-docsdeployment-check>
<label for=m-docsdeployment-check><a href=/docs/deployment/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsdeployment><span>Deployment</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdeploymentdeployment_checklist-li><input type=checkbox id=m-docsdeploymentdeployment_checklist-check>
<label for=m-docsdeploymentdeployment_checklist-check><a href=/docs/deployment/deployment_checklist/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdeploymentdeployment_checklist><span>Deployment Checklist - Infrastructure Improvements</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdeploymentpost-commit-steps-li><input type=checkbox id=m-docsdeploymentpost-commit-steps-check>
<label for=m-docsdeploymentpost-commit-steps-check><a href=/docs/deployment/post-commit-steps/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdeploymentpost-commit-steps><span>Post-Commit Setup Steps</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdeploymentdeployment_notes-li><input type=checkbox id=m-docsdeploymentdeployment_notes-check>
<label for=m-docsdeploymentdeployment_notes-check><a href=/docs/deployment/deployment_notes/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdeploymentdeployment_notes><span>Deployment Notes - 2026-01-16</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdeploymenthugo-site-setup-li><input type=checkbox id=m-docsdeploymenthugo-site-setup-check>
<label for=m-docsdeploymenthugo-site-setup-check><a href=/docs/deployment/hugo-site-setup/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdeploymenthugo-site-setup><span>Hugo Documentation Site - Setup Guide</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdeploymentalerting_migration-li><input type=checkbox id=m-docsdeploymentalerting_migration-check>
<label for=m-docsdeploymentalerting_migration-check><a href=/docs/deployment/alerting_migration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdeploymentalerting_migration><span>Alerting Migration to Grafana</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsdeploymentreadme-li><input type=checkbox id=m-docsdeploymentreadme-check>
<label for=m-docsdeploymentreadme-check><a href=/docs/deployment/readme/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsdeploymentreadme><span></span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-docsplanning-li><input type=checkbox id=m-docsplanning-check>
<label for=m-docsplanning-check><a href=/docs/planning/ title="Planning & Status" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-docsplanning><span>Planning</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsplanningimplementation_status-li><input type=checkbox id=m-docsplanningimplementation_status-check>
<label for=m-docsplanningimplementation_status-check><a href=/docs/planning/implementation_status/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsplanningimplementation_status><span>Implementation Status - Home Server Improvements</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsplanningnext_steps-li><input type=checkbox id=m-docsplanningnext_steps-check>
<label for=m-docsplanningnext_steps-check><a href=/docs/planning/next_steps/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsplanningnext_steps><span>Next Steps - Alerting Migration Testing</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsplanningsecurity_remediation-li><input type=checkbox id=m-docsplanningsecurity_remediation-check>
<label for=m-docsplanningsecurity_remediation-check><a href=/docs/planning/security_remediation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsplanningsecurity_remediation><span>Security Remediation: Discord Webhook Leak</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-docsplanningreadme-li><input type=checkbox id=m-docsplanningreadme-check>
<label for=m-docsplanningreadme-check><a href=/docs/planning/readme/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-docsplanningreadme><span></span></a></label></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"></div><div class=td-toc data-proofer-ignore><div class=td-toc-title><span class=td-toc-title__text>On this page</span>
<a class=td-toc-title__link title="Top of page" href=#></a></div><nav id=TableOfContents><ul><li><a href=#table-of-contents>Table of Contents</a></li><li><a href=#basic-operations>Basic Operations</a><ul><li><a href=#starting--stopping-services>Starting & Stopping Services</a></li><li><a href=#viewing-logs>Viewing Logs</a></li><li><a href=#updating-services>Updating Services</a></li><li><a href=#checking-status>Checking Status</a></li><li><a href=#cleanup>Cleanup</a></li></ul></li><li><a href=#helper-scripts>Helper Scripts</a><ul><li><a href=#health-checksh>health-check.sh</a></li><li><a href=#optimize-performancesh>optimize-performance.sh</a></li><li><a href=#backup-postgressh>backup-postgres.sh</a></li><li><a href=#validate-backupssh>validate-backups.sh</a></li><li><a href=#add-docker-memory-limitssh>add-docker-memory-limits.sh</a></li></ul></li><li><a href=#environment--secrets>Environment & Secrets</a><ul><li><a href=#env-file>.env File</a></li><li><a href=#per-service-configuration>Per-Service Configuration</a></li></ul></li><li><a href=#networking>Networking</a><ul><li><a href=#network-overview>Network Overview</a></li><li><a href=#vpn-routing>VPN Routing</a></li><li><a href=#dns--dhcp>DNS & DHCP</a></li></ul></li><li><a href=#storage--backups>Storage & Backups</a><ul><li><a href=#media-libraries>Media Libraries</a></li><li><a href=#duplicati-backups>Duplicati Backups</a></li><li><a href=#postgresql-backups>PostgreSQL Backups</a></li><li><a href=#samba-file-sharing>Samba File Sharing</a></li></ul></li><li><a href=#useful-commands>Useful Commands</a><ul><li><a href=#container-management>Container Management</a></li><li><a href=#networking-1>Networking</a></li><li><a href=#logs--debugging>Logs & Debugging</a></li><li><a href=#backup--restore>Backup & Restore</a></li><li><a href=#performance>Performance</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/docs/>Docs</a></li><li class=breadcrumb-item><a href=/docs/operations/>Operations</a></li><li class="breadcrumb-item active" aria-current=page>Operating Guide</li></ol></nav><div class=td-content><h1>Operating Guide</h1><div class=lead>Complete guide to day-to-day operations of the home server</div><header class=article-meta></header><p>Complete guide to day-to-day operations of the home server.</p><h2 id=table-of-contents>Table of Contents</h2><ul><li><a href=#basic-operations>Basic Operations</a></li><li><a href=#helper-scripts>Helper Scripts</a></li><li><a href=#environment--secrets>Environment & Secrets</a></li><li><a href=#networking>Networking</a></li><li><a href=#storage--backups>Storage & Backups</a></li><li><a href=#useful-commands>Useful Commands</a></li></ul><h2 id=basic-operations>Basic Operations</h2><h3 id=starting--stopping-services>Starting & Stopping Services</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Start everything</span>
</span></span><span style=display:flex><span>docker compose up -d
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Stop everything (preserves volumes/data)</span>
</span></span><span style=display:flex><span>docker compose down
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Restart specific service</span>
</span></span><span style=display:flex><span>docker compose restart <span style=color:#ce5c00;font-weight:700>[</span>service-name<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Stop specific service</span>
</span></span><span style=display:flex><span>docker compose stop <span style=color:#ce5c00;font-weight:700>[</span>service-name<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Start specific service</span>
</span></span><span style=display:flex><span>docker compose start <span style=color:#ce5c00;font-weight:700>[</span>service-name<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Recreate service (useful after config changes)</span>
</span></span><span style=display:flex><span>docker compose up -d --force-recreate <span style=color:#ce5c00;font-weight:700>[</span>service-name<span style=color:#ce5c00;font-weight:700>]</span>
</span></span></code></pre></div><h3 id=viewing-logs>Viewing Logs</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Follow logs for all services</span>
</span></span><span style=display:flex><span>docker compose logs -f
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Follow logs for specific service</span>
</span></span><span style=display:flex><span>docker compose logs -f <span style=color:#ce5c00;font-weight:700>[</span>service-name<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># View last 100 lines</span>
</span></span><span style=display:flex><span>docker compose logs --tail<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>100</span> <span style=color:#ce5c00;font-weight:700>[</span>service-name<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># View logs since timestamp</span>
</span></span><span style=display:flex><span>docker compose logs --since 2026-01-24T10:00:00 <span style=color:#ce5c00;font-weight:700>[</span>service-name<span style=color:#ce5c00;font-weight:700>]</span>
</span></span></code></pre></div><h3 id=updating-services>Updating Services</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Pull latest images</span>
</span></span><span style=display:flex><span>docker compose pull
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Apply updates (recreate containers with new images)</span>
</span></span><span style=display:flex><span>docker compose up -d
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Update specific service</span>
</span></span><span style=display:flex><span>docker compose pull <span style=color:#ce5c00;font-weight:700>[</span>service-name<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>docker compose up -d <span style=color:#ce5c00;font-weight:700>[</span>service-name<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># View what will be updated</span>
</span></span><span style=display:flex><span>docker compose pull <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> docker compose up -d --dry-run
</span></span></code></pre></div><h3 id=checking-status>Checking Status</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># View all containers</span>
</span></span><span style=display:flex><span>docker compose ps
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># View detailed status</span>
</span></span><span style=display:flex><span>docker compose ps -a
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Check resource usage</span>
</span></span><span style=display:flex><span>docker stats
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Quick health overview</span>
</span></span><span style=display:flex><span>./scripts/health-check.sh
</span></span></code></pre></div><h3 id=cleanup>Cleanup</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Remove stopped containers</span>
</span></span><span style=display:flex><span>docker compose rm
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Clean up unused Docker resources</span>
</span></span><span style=display:flex><span>docker system prune
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Aggressive cleanup (includes unused images and volumes)</span>
</span></span><span style=display:flex><span>docker system prune -a --volumes  <span style=color:#8f5902;font-style:italic># ⚠️ WARNING: removes unused volumes!</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># View disk usage</span>
</span></span><span style=display:flex><span>docker system df
</span></span></code></pre></div><h2 id=helper-scripts>Helper Scripts</h2><p>Located in <code>scripts/</code> directory:</p><h3 id=health-checksh>health-check.sh</h3><p>Quick overview of system health, disk space, memory, and container status.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./scripts/health-check.sh
</span></span></code></pre></div><p><strong>Shows:</strong></p><ul><li>Disk space (root and <code>/media/data</code>)</li><li>Memory and swap usage with color-coded warnings</li><li>Container status (running, stopped, unhealthy)</li><li>Recent container restarts</li></ul><h3 id=optimize-performancesh>optimize-performance.sh</h3><p>Apply kernel tuning for better performance under load. Addresses SSH lag and memory pressure.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>sudo ./scripts/optimize-performance.sh
</span></span></code></pre></div><p><strong>Changes:</strong></p><ul><li>Increases swappiness to 60 (proactive memory management)</li><li>Optimizes network buffers (20x larger for gigabit LAN)</li><li>Enables hardware offload (reduces CPU for network I/O)</li><li>Tunes kernel parameters for server workload</li><li>Creates automatic backups and rollback script</li></ul><p>See <code>QUICK_START.md</code> and <code>PERFORMANCE_OPTIMIZATION.md</code> for details.</p><h3 id=backup-postgressh>backup-postgres.sh</h3><p>Backup PostgreSQL databases (Authentik).</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./scripts/backup-postgres.sh
</span></span></code></pre></div><p><strong>Creates:</strong></p><ul><li>Timestamped SQL dumps in <code>backups/postgres/</code></li><li>Separate dump for Authentik database</li></ul><h3 id=validate-backupssh>validate-backups.sh</h3><p>Verify backup integrity.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./scripts/validate-backups.sh
</span></span></code></pre></div><h3 id=add-docker-memory-limitssh>add-docker-memory-limits.sh</h3><p>Analyze memory usage and recommend Docker memory limits.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>./scripts/add-docker-memory-limits.sh
</span></span></code></pre></div><p><strong>Output:</strong></p><ul><li>Memory usage analysis per container</li><li>Recommended <code>deploy.resources.limits.memory</code> values</li><li>Instructions for adding limits to <code>docker-compose.yml</code></li></ul><h2 id=environment--secrets>Environment & Secrets</h2><h3 id=env-file>.env File</h3><p>All secrets and configuration live in <code>.env</code> next to <code>docker-compose.yml</code>.</p><p><strong>Critical variables:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># User/System</span>
</span></span><span style=display:flex><span><span style=color:#000>PUID</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>1000</span>                          <span style=color:#8f5902;font-style:italic># User ID for file permissions</span>
</span></span><span style=display:flex><span><span style=color:#000>PGID</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#0000cf;font-weight:700>1000</span>                          <span style=color:#8f5902;font-style:italic># Group ID for file permissions</span>
</span></span><span style=display:flex><span><span style=color:#000>TZ</span><span style=color:#ce5c00;font-weight:700>=</span>Asia/Tokyo                      <span style=color:#8f5902;font-style:italic># Timezone</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Networking</span>
</span></span><span style=display:flex><span><span style=color:#000>LOCAL_NETWORK</span><span style=color:#ce5c00;font-weight:700>=</span>10.13.0.0/16         <span style=color:#8f5902;font-style:italic># Local network CIDR</span>
</span></span><span style=display:flex><span><span style=color:#000>TRAEFIK_DOMAIN</span><span style=color:#ce5c00;font-weight:700>=</span>antoineglacet.com   <span style=color:#8f5902;font-style:italic># Base domain for all services</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Traefik / TLS</span>
</span></span><span style=display:flex><span><span style=color:#000>TRAEFIK_ACME_EMAIL</span><span style=color:#ce5c00;font-weight:700>=</span>admin@example.com
</span></span><span style=display:flex><span><span style=color:#000>TRAEFIK_CLOUDFLARE_TOKEN</span><span style=color:#ce5c00;font-weight:700>=</span>xxx       <span style=color:#8f5902;font-style:italic># Cloudflare API token for DNS-01 challenge</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Authentik</span>
</span></span><span style=display:flex><span><span style=color:#000>AUTHENTIK_SECRET_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>xxx           <span style=color:#8f5902;font-style:italic># Secret key for Authentik (generate random)</span>
</span></span><span style=display:flex><span><span style=color:#000>AUTHENTIK_POSTGRESQL__PASSWORD</span><span style=color:#ce5c00;font-weight:700>=</span>xxx <span style=color:#8f5902;font-style:italic># Database password</span>
</span></span><span style=display:flex><span><span style=color:#000>AUTHENTIK_REDIS__PASSWORD</span><span style=color:#ce5c00;font-weight:700>=</span>xxx      <span style=color:#8f5902;font-style:italic># Redis password</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># VPN</span>
</span></span><span style=display:flex><span><span style=color:#000>NORDVPN_PRIVATE_KEY</span><span style=color:#ce5c00;font-weight:700>=</span>xxx            <span style=color:#8f5902;font-style:italic># NordVPN private key</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Storage Paths</span>
</span></span><span style=display:flex><span><span style=color:#000>DATA</span><span style=color:#ce5c00;font-weight:700>=</span>/media/data
</span></span><span style=display:flex><span><span style=color:#000>BACKUP</span><span style=color:#ce5c00;font-weight:700>=</span>/media/data/backup
</span></span><span style=display:flex><span><span style=color:#000>DOWNLOADS</span><span style=color:#ce5c00;font-weight:700>=</span>/media/data/downloads
</span></span><span style=display:flex><span><span style=color:#000>MEDIA</span><span style=color:#ce5c00;font-weight:700>=</span>/media/data/media
</span></span><span style=display:flex><span><span style=color:#000>MOVIES</span><span style=color:#ce5c00;font-weight:700>=</span>/media/data/media/movies
</span></span><span style=display:flex><span><span style=color:#000>TV</span><span style=color:#ce5c00;font-weight:700>=</span>/media/data/media/tv
</span></span><span style=display:flex><span><span style=color:#000>HOMESERVER</span><span style=color:#ce5c00;font-weight:700>=</span>/home/antoine/home-server
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># MQTT</span>
</span></span><span style=display:flex><span><span style=color:#000>MQTT_SERVER</span><span style=color:#ce5c00;font-weight:700>=</span>mqtt://mqtt:1883
</span></span><span style=display:flex><span><span style=color:#000>MQTT_USER</span><span style=color:#ce5c00;font-weight:700>=</span>xxx
</span></span><span style=display:flex><span><span style=color:#000>MQTT_PASSWORD</span><span style=color:#ce5c00;font-weight:700>=</span>xxx
</span></span><span style=display:flex><span><span style=color:#000>ZIGBEE_ADAPTOR_PATH</span><span style=color:#ce5c00;font-weight:700>=</span>/dev/serial/by-id/usb-xxx
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Grafana OAuth</span>
</span></span><span style=display:flex><span><span style=color:#000>GF_AUTH_GENERIC_OAUTH_CLIENT_ID</span><span style=color:#ce5c00;font-weight:700>=</span>xxx      <span style=color:#8f5902;font-style:italic># From Authentik</span>
</span></span><span style=display:flex><span><span style=color:#000>GF_AUTH_GENERIC_OAUTH_CLIENT_SECRET</span><span style=color:#ce5c00;font-weight:700>=</span>xxx  <span style=color:#8f5902;font-style:italic># From Authentik</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Alerting</span>
</span></span><span style=display:flex><span><span style=color:#000>DISCORD_WEBHOOK_URL</span><span style=color:#ce5c00;font-weight:700>=</span>https://discord.com/api/webhooks/xxx
</span></span></code></pre></div><p><strong>Setup:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Copy template</span>
</span></span><span style=display:flex><span>cp .env.example .env
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Edit with your values</span>
</span></span><span style=display:flex><span>nano .env
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Verify required variables</span>
</span></span><span style=display:flex><span>grep -E <span style=color:#4e9a06>&#34;(TRAEFIK_DOMAIN|AUTHENTIK_SECRET_KEY|NORDVPN_PRIVATE_KEY)&#34;</span> .env
</span></span></code></pre></div><p><strong>Security:</strong></p><ul><li>Never commit <code>.env</code> to version control</li><li>Keep encrypted backups in secure location</li><li>Rotate secrets periodically</li><li>Use strong, random values for all secrets</li></ul><h3 id=per-service-configuration>Per-Service Configuration</h3><p>Service-specific configuration lives in <code>config/</code> directory and is bind-mounted into containers.</p><pre tabindex=0><code>config/
├── authentik/        # Authentik media and config
├── grafana/          # Dashboards, datasources, alerting
├── homeassistant/    # Home Assistant automations
├── prometheus/       # Scrape configs and alerts
├── traefik/          # TLS certificates
└── ...
</code></pre><p><strong>Important:</strong></p><ul><li>Always run <code>docker compose</code> from repo root so relative paths work</li><li>Back up <code>config/</code> before major changes</li><li>Some services regenerate config on first run</li></ul><h2 id=networking>Networking</h2><h3 id=network-overview>Network Overview</h3><p>Three Docker networks isolate traffic:</p><h4 id=homelab-internal-bridge>homelab (internal bridge)</h4><p>Default network for service-to-service communication.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># View network details</span>
</span></span><span style=display:flex><span>docker network inspect homelab
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Containers can reach each other by name:</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># - prometheus → http://node_exporter:9100</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># - grafana → http://loki:3100</span>
</span></span></code></pre></div><h4 id=homelab_proxy-external-bridge>homelab_proxy (external bridge)</h4><p>Carries HTTP/HTTPS traffic through Traefik.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Create if missing</span>
</span></span><span style=display:flex><span>docker network create homelab_proxy
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Services exposed via web UI join this network</span>
</span></span><span style=display:flex><span>docker network inspect homelab_proxy
</span></span></code></pre></div><p><strong>Services on this network:</strong></p><ul><li>Traefik (reverse proxy)</li><li>Authentik (SSO)</li><li>Grafana, Homepage, Glances (dashboards)</li><li>All *arr services</li><li>Any service with <code>traefik.enable=true</code> label</li></ul><h4 id=host-network>Host network</h4><p>Special cases requiring host network access:</p><ul><li><strong>home-assistant</strong>: Needs network discovery for IoT devices</li><li><strong>plex</strong>: Requires DLNA discovery and hardware acceleration</li><li><strong>node_exporter</strong>: Monitors host system metrics</li></ul><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># These containers appear on host network</span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Access via host IP or localhost</span>
</span></span></code></pre></div><h3 id=vpn-routing>VPN Routing</h3><p>Transmission and Prowlarr share nordlynx container&rsquo;s network namespace:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#204a87;font-weight:700>network_mode</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8> </span><span style=color:#000>service:nordlynx</span><span style=color:#f8f8f8>
</span></span></span></code></pre></div><p>This ensures all their traffic routes through VPN tunnel.</p><p><strong>Verify VPN:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Check connection</span>
</span></span><span style=display:flex><span>docker compose logs nordlynx <span style=color:#000;font-weight:700>|</span> grep -i connected
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Verify IP is VPN server</span>
</span></span><span style=display:flex><span>docker compose <span style=color:#204a87>exec</span> transmission curl ifconfig.me
</span></span></code></pre></div><h3 id=dns--dhcp>DNS & DHCP</h3><p>AdGuard Home provides:</p><ul><li>Network-wide ad blocking</li><li>DNS server for local network</li><li>DHCP server (optional)</li></ul><p><strong>Access:</strong> <a href=https://adguard.antoineglacet.com>https://adguard.antoineglacet.com</a></p><p><strong>Dynamic DNS:</strong> <code>ddclient</code> keeps Cloudflare DNS updated with current public IP.</p><h2 id=storage--backups>Storage & Backups</h2><h3 id=media-libraries>Media Libraries</h3><p>Media files mount from host paths defined in <code>.env</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>MEDIA</span><span style=color:#ce5c00;font-weight:700>=</span>/media/data/media
</span></span><span style=display:flex><span><span style=color:#000>MOVIES</span><span style=color:#ce5c00;font-weight:700>=</span>/media/data/media/movies
</span></span><span style=display:flex><span><span style=color:#000>TV</span><span style=color:#ce5c00;font-weight:700>=</span>/media/data/media/tv
</span></span><span style=display:flex><span><span style=color:#000>DOWNLOADS</span><span style=color:#ce5c00;font-weight:700>=</span>/media/data/downloads
</span></span><span style=display:flex><span><span style=color:#000>LIBRARY</span><span style=color:#ce5c00;font-weight:700>=</span>/media/data/media/calibre-library
</span></span></code></pre></div><p><strong>Permissions:</strong></p><ul><li>Files owned by <code>${PUID}:${PGID}</code> (usually 1000:1000)</li><li>Containers run as this user for file access</li></ul><h3 id=duplicati-backups>Duplicati Backups</h3><p>Encrypted backups of <code>${BACKUP}</code> directory.</p><p><strong>Access:</strong> <a href=https://duplicati.antoineglacet.com>https://duplicati.antoineglacet.com</a></p><p><strong>Configure:</strong></p><ol><li>Add backup job in UI</li><li>Select source: <code>/backups</code> (mounted from <code>${BACKUP}</code>)</li><li>Choose destination (S3, B2, local, etc.)</li><li>Set schedule and retention policy</li><li>Encrypt with strong passphrase</li></ol><h3 id=postgresql-backups>PostgreSQL Backups</h3><p>Authentik database backups:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Manual backup</span>
</span></span><span style=display:flex><span>./scripts/backup-postgres.sh
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Output: backups/postgres/authentik_YYYY-MM-DD_HH-MM-SS.sql</span>
</span></span></code></pre></div><p><strong>Restore:</strong></p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Stop Authentik</span>
</span></span><span style=display:flex><span>docker compose stop authentik-server authentik-worker
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Restore database</span>
</span></span><span style=display:flex><span>docker compose <span style=color:#204a87>exec</span> -T postgres psql -U authentik -d authentik &lt; backups/postgres/authentik_2026-01-24_10-00-00.sql
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Restart Authentik</span>
</span></span><span style=display:flex><span>docker compose start authentik-server authentik-worker
</span></span></code></pre></div><h3 id=samba-file-sharing>Samba File Sharing</h3><p>Exposes <code>${DATA}</code> to Windows clients.</p><p><strong>Access:</strong> <code>\\&lt;server-ip>\data</code></p><p><strong>Credentials:</strong> <code>${SAMBA_USER}</code> / <code>${SAMBA_PASSWORD}</code> from <code>.env</code></p><h2 id=useful-commands>Useful Commands</h2><h3 id=container-management>Container Management</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Execute command in container</span>
</span></span><span style=display:flex><span>docker compose <span style=color:#204a87>exec</span> <span style=color:#ce5c00;font-weight:700>[</span>service<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#ce5c00;font-weight:700>[</span>command<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Open shell in container</span>
</span></span><span style=display:flex><span>docker compose <span style=color:#204a87>exec</span> <span style=color:#ce5c00;font-weight:700>[</span>service<span style=color:#ce5c00;font-weight:700>]</span> /bin/bash
</span></span><span style=display:flex><span>docker compose <span style=color:#204a87>exec</span> <span style=color:#ce5c00;font-weight:700>[</span>service<span style=color:#ce5c00;font-weight:700>]</span> /bin/sh
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Copy files to/from container</span>
</span></span><span style=display:flex><span>docker compose cp <span style=color:#ce5c00;font-weight:700>[</span>service<span style=color:#ce5c00;font-weight:700>]</span>:/path/in/container /local/path
</span></span><span style=display:flex><span>docker compose cp /local/path <span style=color:#ce5c00;font-weight:700>[</span>service<span style=color:#ce5c00;font-weight:700>]</span>:/path/in/container
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># View container details</span>
</span></span><span style=display:flex><span>docker inspect <span style=color:#ce5c00;font-weight:700>[</span>container-name<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># View container resource limits</span>
</span></span><span style=display:flex><span>docker inspect <span style=color:#ce5c00;font-weight:700>[</span>container-name<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#000;font-weight:700>|</span> jq <span style=color:#4e9a06>&#39;.[0].HostConfig.Memory&#39;</span>
</span></span></code></pre></div><h3 id=networking-1>Networking</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Test connectivity from container</span>
</span></span><span style=display:flex><span>docker compose <span style=color:#204a87>exec</span> <span style=color:#ce5c00;font-weight:700>[</span>service<span style=color:#ce5c00;font-weight:700>]</span> ping -c <span style=color:#0000cf;font-weight:700>3</span> google.com
</span></span><span style=display:flex><span>docker compose <span style=color:#204a87>exec</span> <span style=color:#ce5c00;font-weight:700>[</span>service<span style=color:#ce5c00;font-weight:700>]</span> curl -I https://google.com
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Check which network container is on</span>
</span></span><span style=display:flex><span>docker inspect <span style=color:#ce5c00;font-weight:700>[</span>container-name<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#000;font-weight:700>|</span> jq <span style=color:#4e9a06>&#39;.[0].NetworkSettings.Networks&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># List all networks</span>
</span></span><span style=display:flex><span>docker network ls
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># View network details</span>
</span></span><span style=display:flex><span>docker network inspect homelab
</span></span></code></pre></div><h3 id=logs--debugging>Logs & Debugging</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Follow Docker daemon logs</span>
</span></span><span style=display:flex><span>journalctl -u docker -f
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Check container healthcheck</span>
</span></span><span style=display:flex><span>docker inspect <span style=color:#ce5c00;font-weight:700>[</span>container-name<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#000;font-weight:700>|</span> jq <span style=color:#4e9a06>&#39;.[0].State.Health&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># View container startup command</span>
</span></span><span style=display:flex><span>docker inspect <span style=color:#ce5c00;font-weight:700>[</span>container-name<span style=color:#ce5c00;font-weight:700>]</span> <span style=color:#000;font-weight:700>|</span> jq <span style=color:#4e9a06>&#39;.[0].Config.Cmd&#39;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Check container environment variables</span>
</span></span><span style=display:flex><span>docker compose <span style=color:#204a87>exec</span> <span style=color:#ce5c00;font-weight:700>[</span>service<span style=color:#ce5c00;font-weight:700>]</span> env
</span></span></code></pre></div><h3 id=backup--restore>Backup & Restore</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Backup entire config directory</span>
</span></span><span style=display:flex><span>tar -czf ~/backup-<span style=color:#204a87;font-weight:700>$(</span>date +%F<span style=color:#204a87;font-weight:700>)</span>.tar.gz /home/antoine/home-server/config
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Backup with docker volumes</span>
</span></span><span style=display:flex><span>docker run --rm -v home-server_postgres_data:/data -v ~/backups:/backup alpine tar czf /backup/postgres-data-<span style=color:#204a87;font-weight:700>$(</span>date +%F<span style=color:#204a87;font-weight:700>)</span>.tar.gz -C /data .
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Restore config</span>
</span></span><span style=display:flex><span>tar -xzf ~/backup-2026-01-24.tar.gz -C /
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># List volumes</span>
</span></span><span style=display:flex><span>docker volume ls
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Inspect volume</span>
</span></span><span style=display:flex><span>docker volume inspect home-server_postgres_data
</span></span></code></pre></div><h3 id=performance>Performance</h3><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># View resource usage</span>
</span></span><span style=display:flex><span>docker stats
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># View top processes in container</span>
</span></span><span style=display:flex><span>docker compose top <span style=color:#ce5c00;font-weight:700>[</span>service<span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Check host resources</span>
</span></span><span style=display:flex><span>free -h
</span></span><span style=display:flex><span>df -h
</span></span><span style=display:flex><span>vmstat <span style=color:#0000cf;font-weight:700>1</span> <span style=color:#0000cf;font-weight:700>5</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Network bandwidth</span>
</span></span><span style=display:flex><span>iftop  <span style=color:#8f5902;font-style:italic># or nethogs</span>
</span></span></code></pre></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=Homepage aria-label=Homepage><a target=_blank rel=noopener href=https://homepage.antoineglacet.com aria-label=Homepage><i class="fa fa-home"></i></a></li></ul></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2026
<span class=td-footer__authors>Antoine Glacet</span></span><span class=td-footer__all_rights_reserved>All Rights Reserved</span></div></div></div></footer></div><script src=/js/main.min.258190f24d50bde9095e369c0cd7315407f95e1da5f39472b3850b40279a9e08.js integrity="sha256-JYGQ8k1QvekJXjacDNcxVAf5Xh2l85Rys4ULQCeangg=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>