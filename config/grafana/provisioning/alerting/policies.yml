apiVersion: 1

# Notification Policies - How alerts are routed
policies:
  - orgId: 1
    receiver: discord
    group_by:
      - alertname
      - severity
    group_wait: 10s
    group_interval: 5m
    repeat_interval: 12h
    routes:
      # Critical alerts - long interval (effectively no repeat for 1 year)
      - receiver: discord
        matchers:
          - severity = critical
        group_wait: 5s
        repeat_interval: 8760h  # 1 year - effectively no repeat
        continue: false
      
      # Warning alerts - long interval (effectively no repeat for 1 year)
      - receiver: discord
        matchers:
          - severity = warning
        repeat_interval: 8760h  # 1 year - effectively no repeat
        continue: false
